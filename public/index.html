<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" href="./css/index.css">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Git Clone Test</title>
</head>
<body>
  <div class="header">
    <div class="text">
        CODENOMICON
    </div>
    <div class="buttons">
        <div class="button" type="button">
            <a href="/home">HOME</a>
        </div>
        <div class="button" type="button">
          <a href="/about">ABOUT</a>
        </div>
        <div class="button" type="button">
          <a href="/settings">SETTINGS</a>
        </div>
        <div class="button" type="button">
          <a href="/settings">LOG OUT</a>
        </div>
        <div class="button" type="button" style="width: 100px">
          <a href="/settings">SETTINGS</a>
        </div>
        <label class="switch">
            <p>Matrix Rain</p>
            <div>
              <input type="checkbox" id="rainToggle">
              <span class="slider"></span>
            </div>
        </label>
    </div>
  </div>
  <canvas>
    <script>
      // Background animation
      color_schemes = ["#09b800"]

      // Function to start the Matrix Rain animation
      function startMatrixRain() {
        // Canvas setup
        var canvas = document.querySelector('canvas'),
            ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        var letters = 'ッぇぉぬぶぢすまぱネゼヸ';
        letters = letters.split('');

        var fontSize = 20,
            columns = canvas.width / fontSize;

        var drops = [];
        for (var i = 0; i < columns; i++) {
          drops[i] = 1;
        }

        function draw() {
          ctx.fillStyle = 'rgba(0, 0, 0, .1)';
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          for (var i = 0; i < drops.length; i++) {
            var text = letters[Math.floor(Math.random() * letters.length)];
            var color = color_schemes[Math.floor(Math.random() * color_schemes.length)]
            ctx.fillStyle = color;
            ctx.fillText(text, i * fontSize, drops[i] * fontSize);
            drops[i]++;
            if (drops[i] * fontSize > canvas.height && Math.random() > .95) {
              drops[i] = 0;
            }
          }
        }

        // Store the interval ID to stop the animation later
        var animationInterval = setInterval(draw, 33);

        // Store the interval ID in a custom attribute of the canvas element
        canvas.dataset.animationInterval = animationInterval;
      }

      // Function to stop the Matrix Rain animation
      function stopMatrixRain() {
        // Retrieve the interval ID from the canvas element's custom attribute
        var canvas = document.querySelector('canvas');
        var animationInterval = canvas.dataset.animationInterval;

        // Clear the animation interval to stop the animation
        clearInterval(animationInterval);
      }

      // Add an event listener to the checkbox
      const rainToggle = document.getElementById('rainToggle');
      rainToggle.addEventListener('change', function() {
        console.log(this.checked)
        if (this.checked) {
          // Start the animation when the checkbox is checked
          stopMatrixRain();
        } else {
          // Stop the animation when the checkbox is unchecked
          startMatrixRain();
        }
      });
      startMatrixRain();
    </script>
  </canvas>
  <div>
    <div class="left" id="left">
      <div id="file-explorer"></div>
    </div>
    <input type="text" id="commitMsg">
    <button id="stageBtn">Stage All</button>
    <button id="commitBtn">Commit</button>
  </div>
  <div class="middle" id="middle">
    <div class="go-box" id="go-box">
      <input type="text" id="repoUrlInput" placeholder="Enter the repository URL" />
      <button id="cloneBtn">Clone Repository</button>
      <button id="testBtn">Test Button</button>
    </div>
    <div id="editor-tabs"></div>
    <div id="monaco-editor" 
      style="width: 100%;
      height: 700px;
      border: solid 1px #7fffa1;
      box-shadow: 0px 0px 16px #00ff3779;">
    </div>
  </div>
  <div class="right" id="right">
    <div id="bot-chat" class="bot-chat">
      <div>
        <h1 class="chat-header">Bot Chat History</h1>
      </div>
      <div id="chat-history" class="chat-history">Chat history here</div>
      <div id="input-wrapper" class="input-wrapper">
        <input id="userQuery" class="user-querry">
        <div class="button" type="button" id="chatBtn">></div>
        <div class="button" type="button" id="printBtn">Print</div>
      </div>
      <button id="loadHistoryButton">Load History</button>
    </div>
  </div>

  <!-- Include RequireJS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script>
  
  <script src="./js/script.js"></script>
</body>
</html>
